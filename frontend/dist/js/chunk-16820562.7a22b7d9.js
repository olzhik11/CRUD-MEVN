(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16820562"],{1881:function(t,e,n){"use strict";n("4b26")},"1f6c":function(t,e,n){"use strict";var o=n("7a23"),c=Object(o["cb"])("data-v-74540ece");Object(o["D"])("data-v-74540ece");var s={class:"postList"},a={key:0,class:"ifPostList"},r={key:1,style:{color:"red"}},i=Object(o["l"])("strong",null,"There are no posts",-1);Object(o["B"])();var l=c((function(t,e,n,c,l,u){var d=Object(o["K"])("PostListItem");return Object(o["A"])(),Object(o["i"])("div",s,[n.posts.length>0?(Object(o["A"])(),Object(o["i"])("div",a,[(Object(o["A"])(!0),Object(o["i"])(o["a"],null,Object(o["I"])(n.posts,(function(e){return Object(o["A"])(),Object(o["i"])(d,{post:e,key:e._id,onDeleteOne:function(n){return t.$emit("deleteOne",e)},class:"list-item"},null,8,["post","onDeleteOne"])})),128))])):(Object(o["A"])(),Object(o["i"])("h1",r,[i]))])})),u=(n("a4d3"),n("e01a"),Object(o["cb"])("data-v-8e9637e4"));Object(o["D"])("data-v-8e9637e4");var d={class:"post_content"},p={id:"title"},b={id:"description"},f={id:"body"},O={id:"date"},j={class:"buttons"},h=Object(o["k"])("mdi-book-open"),v=Object(o["k"])("mdi-delete"),m=Object(o["k"])("mdi-pencil");Object(o["B"])();var g=u((function(t,e,n,c,s,a){var r=Object(o["K"])("v-icon"),i=Object(o["K"])("BaseWorkButton"),l=Object(o["K"])("v-card");return Object(o["A"])(),Object(o["i"])(l,{variant:"outlined",elevation:"10",class:"post"},{default:u((function(){return[Object(o["l"])("div",d,[Object(o["l"])("p",p,Object(o["P"])(n.post.title),1),Object(o["l"])("p",b,Object(o["P"])(n.post.description),1),Object(o["l"])("p",f,Object(o["P"])(n.post.body),1),Object(o["l"])("p",O,Object(o["P"])(n.post.createdAt.substring(0,10)),1)]),Object(o["l"])("div",j,[Object(o["l"])(i,{onClick:c.onClick},{default:u((function(){return[Object(o["l"])(r,{color:"#a3fab4"},{default:u((function(){return[h]})),_:1})]})),_:1},8,["onClick"]),Object(o["l"])(i,{color:t.one,onClick:e[1]||(e[1]=function(e){return t.$emit("deleteOne",n.post)})},{default:u((function(){return[Object(o["l"])(r,{color:"#ef6461"},{default:u((function(){return[v]})),_:1})]})),_:1},8,["color"]),Object(o["l"])(i,{color:t.two,onClick:c.editPost},{default:u((function(){return[Object(o["l"])(r,{color:"#e4b363"},{default:u((function(){return[m]})),_:1})]})),_:1},8,["color","onClick"])])]})),_:1})})),w=n("5530"),P=n("5502"),k=n("6c02"),y={name:"PostListItem",computed:Object(w["a"])({},Object(P["c"])({one:function(t){return t.miscellaneous.style.BSweet},two:function(t){return t.miscellaneous.style.LSBrown},three:function(t){return t.miscellaneous.style.CBlue},isAuth:function(t){return t.users.isAuth}})),props:{post:{type:Object,required:!0}},setup:function(t){var e=Object(k["d"])(),n=Object(o["R"])(t,"post"),c=function(){e.push("/posts/edit/".concat(n.value._id))},s=function(){e.push("/posts/".concat(n.value._id))};return{editPost:c,onClick:s}}};n("50e8");y.render=g,y.__scopeId="data-v-8e9637e4";var _=y,C={name:"PostList",components:{PostListItem:_},props:{posts:{type:Array,required:!0}}};n("1881");C.render=l,C.__scopeId="data-v-74540ece";e["a"]=C},4385:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),c=Object(o["cb"])("data-v-7f104078");Object(o["D"])("data-v-7f104078");var s={class:"main"},a={class:"app"},r={class:"controlButtons"},i=Object(o["k"])("Create"),l=Object(o["k"])("Delete all"),u=Object(o["k"])("Search"),d={class:"content"};Object(o["B"])();var p=c((function(t,e,n,p,b,f){var O=Object(o["K"])("TheNavbar"),j=Object(o["K"])("BaseWorkButton"),h=Object(o["K"])("PostInput"),v=Object(o["K"])("BaseInputWindow"),m=Object(o["K"])("PostList"),g=Object(o["K"])("v-pagination"),w=Object(o["K"])("TheFooter");return Object(o["A"])(),Object(o["i"])("div",s,[Object(o["l"])(O),Object(o["l"])("div",a,[Object(o["l"])("div",r,[Object(o["l"])(j,{onClick:p.showWindow},{default:c((function(){return[i]})),_:1},8,["onClick"]),Object(o["l"])(j,{color:t.one,onClick:f.deleteAllPosts},{default:c((function(){return[l]})),_:1},8,["color","onClick"]),Object(o["l"])(j,{color:t.two,onClick:e[1]||(e[1]=function(e){return t.$router.push("/posts/searchPosts")})},{default:c((function(){return[u]})),_:1},8,["color"])]),Object(o["l"])("div",d,[Object(o["l"])(v,{show:p.show,"onUpdate:show":e[2]||(e[2]=function(t){return p.show=t}),onShowWindow:p.showWindow},{default:c((function(){return[Object(o["l"])(h,{onCreate:p.createPost,method:{name:"Create post"}},null,8,["onCreate"])]})),_:1},8,["show","onShowWindow"]),Object(o["l"])(m,{posts:p.paginatedPosts,onDeleteOne:p.deletePost},null,8,["posts","onDeleteOne"]),Object(o["l"])(g,{length:p.pageNums,color:"white",modelValue:p.currentPage,"onUpdate:modelValue":e[3]||(e[3]=function(t){return p.currentPage=t}),onClick:p.paginate},null,8,["length","modelValue","onClick"])])]),Object(o["l"])(w)])})),b=n("5530"),f=n("5502"),O=n("1da1"),j=(n("96cf"),n("99af"),n("a4d3"),n("e01a"),n("bc3a")),h=n.n(j),v=n("4360"),m=n("6c02");function g(){var t=Object(o["G"])([]),e=Object(o["G"])(1),n=Object(o["G"])(2),c=Object(o["G"])(0),s=Object(o["G"])([]),a=Object(m["d"])(),r=function(){a.push({path:"/",query:{page:e.value}}),h.a.get("http://localhost:5000/posts?page=".concat(e.value,"&limit=").concat(n.value)).then((function(e){t.value=e.data.paginatedPosts,c.value=Math.ceil(e.data.totalSize/n.value)})).catch((function(t){return console.log(t)})),console.log("fetched")},i=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();h.a.get("http://localhost:5000/posts?page=".concat(e.value,"&limit=").concat(n.value)).then((function(e){t.value=e.data.paginatedPosts,c.value=Math.ceil(e.data.totalSize/n.value)})).catch((function(t){return console.log(t)}));var l=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={title:e.title,description:e.description,body:e.body},t.next=3,h.a.post("http://localhost:5000/posts",n).then((function(t){console.log(t),i()})).catch((function(t){return console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!v["a"].state.users.isAuth){t.next=7;break}return t.next=3,h.a.delete("http://localhost:5000/posts/".concat(e._id)).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}));case 3:return t.next=5,i();case 5:t.next=8;break;case 7:alert("Please log in.");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o["y"])(i),{createPost:l,deletePost:u,providedPosts:s,currentPage:e,pageSize:n,pageNums:c,fetchPaginated:i,paginate:r,paginatedPosts:t}}function w(){var t=Object(o["G"])(!1),e=function(){v["a"].state.users.isAuth?t.value=!0:alert("Please log in.")};return{show:t,showWindow:e}}n("b0c0");var P=Object(o["cb"])("data-v-615fdac6"),k=P((function(t,e,n,c,s,a){var r=Object(o["K"])("BaseInput"),i=Object(o["K"])("BaseWorkButton");return Object(o["A"])(),Object(o["i"])("form",{onSubmit:e[4]||(e[4]=Object(o["bb"])((function(){}),["prevent"])),class:"inputForm"},[Object(o["l"])(r,{type:"text",modelValue:s.post.title,"onUpdate:modelValue":e[1]||(e[1]=function(t){return s.post.title=t}),placeholder:"Title"},null,8,["modelValue"]),Object(o["l"])(r,{type:"text",modelValue:s.post.description,"onUpdate:modelValue":e[2]||(e[2]=function(t){return s.post.description=t}),placeholder:"Description"},null,8,["modelValue"]),Object(o["ab"])(Object(o["l"])("textarea",{rows:"10",cols:"10","onUpdate:modelValue":e[3]||(e[3]=function(t){return s.post.body=t}),placeholder:"Body"},null,512),[[o["U"],s.post.body]]),Object(o["l"])(i,{color:"black",onClick:a.createPost,class:"inputButton"},{default:P((function(){return[Object(o["k"])(Object(o["P"])(n.method.name),1)]})),_:1},8,["onClick"])],32)})),y={name:"PostInput",data:function(){return{post:{title:"",description:"",body:""}}},props:{method:{type:Object,required:!0}},methods:{createPost:function(){this.post.title&&this.post.body&&this.post.description?(this.$emit("create",this.post),this.post={title:"",body:"",description:""}):this.$toast.show("Please fill all the fields.",{type:"error"})}}};n("4639");y.render=k,y.__scopeId="data-v-615fdac6";var _=y,C=n("1f6c"),B=n("3ff8"),A=n("d669"),I={name:"MainPage",components:{TheFooter:A["a"],TheNavbar:B["a"],PostList:C["a"],PostInput:_},computed:Object(b["a"])({},Object(f["c"])({one:function(t){return t.miscellaneous.style.BSweet},two:function(t){return t.miscellaneous.style.LSBrown},three:function(t){return t.miscellaneous.style.CBlue},isAuth:function(t){return t.users.isAuth},token:function(t){return t.users.token},username:function(t){return t.users.username}})),setup:function(){var t=g(),e=t.posts,n=t.createPost,o=t.deletePost,c=t.currentPage,s=t.pageSize,a=t.pageNums,r=t.paginate,i=t.paginatedPosts,l=w(),u=l.show,d=l.showWindow;return{posts:e,createPost:n,deletePost:o,show:u,showWindow:d,currentPage:c,pageSize:s,pageNums:a,paginate:r,paginatedPosts:i}},methods:{deleteAllPosts:function(){this.isAuth?0===this.searchedPosts.length?this.$toast.info("No posts.",{type:""}):h.a.delete("http://localhost:5000/posts").then((function(t){console.log(t)})).catch((function(t){console.log(t)})):this.$toast.error("Please log in.")}}};n("a961");I.render=p,I.__scopeId="data-v-7f104078";e["default"]=I},4639:function(t,e,n){"use strict";n("d19f")},"46b2":function(t,e,n){},"4b26":function(t,e,n){},"50e8":function(t,e,n){"use strict";n("46b2")},a961:function(t,e,n){"use strict";n("f179")},d19f:function(t,e,n){},f179:function(t,e,n){}}]);
//# sourceMappingURL=chunk-16820562.7a22b7d9.js.map